

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon.ico">
  <link rel="icon" href="/img/icon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Rainux">
  <meta name="keywords" content="前端；生活；美好；">
  
    <meta name="description" content="Code is never die！ 前言使用jsPlumb这个组件本身还不错，使用方便、入门简单、轻量级，但是使用一段时间下来，发现一些弊病，比如组件不太稳定，初始进入页面的时候连线的样式有时会乱掉，刷新页面之后才能恢复正常，而且连线样式比较单一，容易让人产生视觉疲劳，加之最近公司在大力推行所谓的“工业4.0”，除了对自动化控制要求的提高之外，对这种图形化界面的要求也随之提高，所以单纯的jsPl">
<meta property="og:type" content="article">
<meta property="og:title" content="Gojs组件------前端图形化插件之利器">
<meta property="og:url" content="https://rainuxs.github.io/rainuxs.github.io/Gojs%E7%BB%84%E4%BB%B6------%E5%89%8D%E7%AB%AF%E5%9B%BE%E5%BD%A2%E5%8C%96%E6%8F%92%E4%BB%B6%E4%B9%8B%E5%88%A9%E5%99%A8/index.html">
<meta property="og:site_name" content="Rainux">
<meta property="og:description" content="Code is never die！ 前言使用jsPlumb这个组件本身还不错，使用方便、入门简单、轻量级，但是使用一段时间下来，发现一些弊病，比如组件不太稳定，初始进入页面的时候连线的样式有时会乱掉，刷新页面之后才能恢复正常，而且连线样式比较单一，容易让人产生视觉疲劳，加之最近公司在大力推行所谓的“工业4.0”，除了对自动化控制要求的提高之外，对这种图形化界面的要求也随之提高，所以单纯的jsPl">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173655509.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173716399.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173731858.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173759992.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021042017381095.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173834649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021042017384774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173900441.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173914283.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420173924320.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420174031610.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420174050114.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420174101683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420174518606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420174604965.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420175144453.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420175221785.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420175330889.gif">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210420175534446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2022-08-12T04:15:18.689Z">
<meta property="article:modified_time" content="2022-08-14T07:30:42.465Z">
<meta property="article:author" content="Rainux">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="Gojs">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20210420173655509.gif">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Gojs组件------前端图形化插件之利器 - Rainux</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"rainuxs.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Rainux</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/pexels-min-an-1337975.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Gojs组件------前端图形化插件之利器"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-08-12 12:15" pubdate>
          2022年8月12日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          30k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          246 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Gojs组件------前端图形化插件之利器</h1>
            
            
              <div class="markdown-body">
                
                <p><strong>Code is never die！</strong></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>使用jsPlumb这个组件本身还不错，使用方便、入门简单、轻量级，但是使用一段时间下来，发现一些弊病，比如组件不太稳定，初始进入页面的时候连线的样式有时会乱掉，刷新页面之后才能恢复正常，而且连线样式比较单一，容易让人产生视觉疲劳，加之最近公司在大力推行所谓的“工业4.0”，除了对自动化控制要求的提高之外，对这种图形化界面的要求也随之提高，所以单纯的jsPlumb组件效果已经不能满足日益发展的公司业务。基于以上种种，最终找到了Gojs组件，它效果强大、api丰富，唯一的不足就是这个组件是一个收费组件，可是在天朝，嘘…这是个不能说的秘密！</p>
<h1 id="一、组件效果预览"><a href="#一、组件效果预览" class="headerlink" title="一、组件效果预览"></a>一、组件效果预览</h1><p>先来两个炫酷点的效果：<br><img src="https://img-blog.csdnimg.cn/20210420173655509.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420173716399.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420173731858.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>就最下面两个效果而言，就是jsPlumb无法实现的，可是这种效果在MES系统里面是很吸引人的，尤其是一些流程性的业务，用这种效果实现让可以一眼就感觉高大上了。并且咋一眼看上去，你根本都不相信这是一个web页面的效果。</p>
<p> 其他效果示例：<br> <img src="https://img-blog.csdnimg.cn/20210420173759992.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/2021042017381095.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>可折叠的树：<br><img src="https://img-blog.csdnimg.cn/20210420173834649.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>这是图片吗？<br><img src="https://img-blog.csdnimg.cn/2021042017384774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>竟然还可以生成图表！<br><img src="https://img-blog.csdnimg.cn/20210420173900441.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420173914283.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420173924320.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>想抢visio的饭碗吗？<br><img src="https://img-blog.csdnimg.cn/20210420174031610.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420174050114.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20210420174101683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>更多示例可查看<a target="_blank" rel="noopener" href="https://gojs.net/latest/samples/index.html">GoJS</a></p>
<h1 id="二、初次接触"><a href="#二、初次接触" class="headerlink" title="二、初次接触"></a>二、初次接触</h1><p>老规矩，还是先来个入门教程。</p>
<p>源码下载：<a target="_blank" rel="noopener" href="https://github.com/NorthwoodsSoftware/GoJS">https://github.com/NorthwoodsSoftware/GoJS</a></p>
<p>api详情：<a target="_blank" rel="noopener" href="https://gojs.net/latest/api/index.html">https://gojs.net/latest/api/index.html</a></p>
<p>示例地址：<a target="_blank" rel="noopener" href="https://gojs.net/latest/samples/index.html">https://gojs.net/latest/samples/index.html</a></p>
<h2 id="1、Gojs简介"><a href="#1、Gojs简介" class="headerlink" title="1、Gojs简介"></a>1、Gojs简介</h2><p>GoJS是一个功能丰富的JS库，在Web浏览器和平台上可实现自定义交互图和复杂的可视化效果，它用自定义模板和布局组件简化了节点、链接和分组等复杂的JS图表，给用户交互提供了许多先进的功能，如拖拽、复制、粘贴、文本编辑、工具提示、上下文菜单、自动布局、模板、数据绑定和模型、事务状态和撤销管理、调色板、概述、事件处理程序、命令和自定义操作的扩展工具系统。无需切换服务器和插件，GoJS就能实现用户互动并在浏览器中完全运行，呈现HTML5 Canvas元素或SVG，也不用服务器端请求。 GoJS不依赖于任何JS库或框架（例如bootstrap、jquery等），可与任何HTML或JS框架配合工作，甚至可以不用框架。</p>
<h2 id="2、使用入门"><a href="#2、使用入门" class="headerlink" title="2、使用入门"></a>2、使用入门</h2><p>（1）文件引用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script src=<span class="hljs-string">&quot;gojs/go-debug_ok.js&quot;</span>&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>可以用cdn上面的最新版本，也可以引用本地down下来的文件。如果是开发，可以引用debug版本的js，正式运行的时候引用正式的js，这个无需多讲。</p>
<p>（2）创建画布</p>
<p>随便定义一个html元素，作为我们的画布</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div id=<span class="hljs-string">&quot;myDiagramDiv&quot;</span> style=<span class="hljs-string">&quot;margin:auto;width:300px; height:300px; background-color:#ddd;&quot;</span>&gt;&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>然后使用gojs的api初始化画布</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//创建画布</span><br>      <span class="hljs-keyword">var</span> objGo = go.GraphObject.make;<br>      <span class="hljs-keyword">var</span> myDiagram = objGo(go.Diagram, <span class="hljs-string">&quot;myDiagramDiv&quot;</span>,<br>          &#123;<br>              <span class="hljs-comment">//模型图的中心位置所在坐标</span><br>              <span class="hljs-attr">initialContentAlignment</span>: go.Spot.Center,<br>              <br>              <span class="hljs-comment">//允许用户操作图表的时候使用Ctrl-Z撤销和Ctrl-Y重做快捷键</span><br>              <span class="hljs-string">&quot;undoManager.isEnabled&quot;</span>: <span class="hljs-literal">true</span>,<br>              <br>              <span class="hljs-comment">//不运行用户改变图表的规模</span><br>              <span class="hljs-attr">allowZoom</span>: <span class="hljs-literal">false</span>,<br><br>              <span class="hljs-comment">//画布上面是否出现网格</span><br>              <span class="hljs-string">&quot;grid.visible&quot;</span>: <span class="hljs-literal">true</span>,<br><br>              <span class="hljs-comment">//允许在画布上面双击的时候创建节点</span><br>              <span class="hljs-string">&quot;clickCreatingTool.archetypeNodeData&quot;</span>: &#123; <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;Node&quot;</span> &#125;,<br><br>              <span class="hljs-comment">//允许使用ctrl+c、ctrl+v复制粘贴</span><br>              <span class="hljs-string">&quot;commandHandler.copiesTree&quot;</span>: <span class="hljs-literal">true</span>,  <br><br>              <span class="hljs-comment">//允许使用delete键删除节点</span><br>              <span class="hljs-string">&quot;commandHandler.deletesTree&quot;</span>: <span class="hljs-literal">true</span>, <br><br>              <span class="hljs-comment">// dragging for both move and copy</span><br>              <span class="hljs-string">&quot;draggingTool.dragsTree&quot;</span>: <span class="hljs-literal">true</span>,  <br>          &#125;);    <br></code></pre></td></tr></table></figure>
<p>官方示例用的<code>$</code>符号作为变量，博主觉得<code>$</code>符号太敏感，还是换个名字吧~以上几个参数都是博主摘选的，更多初始化画布的参数请参考官方api下图：<br><img src="https://img-blog.csdnimg.cn/20210420174518606.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>3）创建模型数据（Model）</p>
<p>接着上面的代码，我们增加如下几行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myModel = objGo(go.Model);<span class="hljs-comment">//创建Model对象</span><br>        <span class="hljs-comment">// model中的数据每一个js对象都代表着一个相应的模型图中的元素</span><br>        myModel.nodeDataArray = [<br>            &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;工厂&quot;</span> &#125;,<br>            &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;车间&quot;</span> &#125;,<br>            &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;工人&quot;</span> &#125;,<br>            &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;岗位&quot;</span> &#125;,<br>        ];<br>        myDiagram.model = myModel; <span class="hljs-comment">//将模型数据绑定到画布图上</span><br></code></pre></td></tr></table></figure>
<p>效果预览<img src="https://img-blog.csdnimg.cn/20210420174604965.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>4）创建节点（Node）</p>
<p>上面有了画布和节点数据，只是有了一个雏形，但是还没有任何的图形化效果。我们加入一些效果试试</p>
<p>在gojs里面给我们提供了几种模型节点的可选项：</p>
<p><a target="_blank" rel="noopener" href="https://gojs.net/latest/intro/shapes.html">Shape</a>:形状——Rectangle（矩形）、RoundedRectangle（圆角矩形），Ellipse（椭圆形），Triangle（三角形），Diamond（菱形），Circle（圆形）等<br><a target="_blank" rel="noopener" href="https://gojs.net/latest/intro/textblocks.html">TextBlock</a>:文本域（可编辑）<br><a target="_blank" rel="noopener" href="https://gojs.net/latest/intro/pictures.html">Picture</a>:图片<br><a target="_blank" rel="noopener" href="https://gojs.net/latest/intro/panels.html">Panel</a>:容器来保存其他Node的集合<br>默认的节点模型代码只是由一个TextBlock组件构建成<br>我们增加如下一段代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 定义一个简单的节点模板</span><br>        myDiagram.nodeTemplate =<br>            objGo(go.Node, <span class="hljs-string">&quot;Horizontal&quot;</span>,<span class="hljs-comment">//横向布局的面板</span><br>                <span class="hljs-comment">// 节点淡蓝色背景</span><br>                &#123; <span class="hljs-attr">background</span>: <span class="hljs-string">&quot;#44CCFF&quot;</span> &#125;,<br>                objGo(go.Shape,<br>                    <span class="hljs-string">&quot;RoundedRectangle&quot;</span>, <span class="hljs-comment">//定义形状，这是圆角矩形</span><br>                    &#123; <span class="hljs-comment">/* Shape的参数。宽高颜色等等*/</span>figure: <span class="hljs-string">&quot;Club&quot;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">60</span>, <span class="hljs-attr">margin</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">fill</span>: <span class="hljs-string">&#x27;red&#x27;</span> &#125;,<br>                    <span class="hljs-comment">// 绑定 Shape.figure属性为Node.data.fig的值，Model对象可以通过Node.data.fig 获取和设置Shape.figure（修改形状）</span><br>                    <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">&quot;figure&quot;</span>, <span class="hljs-string">&quot;fig&quot;</span>), <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">&#x27;fill&#x27;</span>, <span class="hljs-string">&#x27;fill2&#x27;</span>)),<br>                objGo(go.TextBlock,<br>                    <span class="hljs-string">&quot;Default Text&quot;</span>,  <span class="hljs-comment">// 默认文本</span><br>                    <span class="hljs-comment">// 设置字体大小颜色以及边距</span><br>                    &#123; <span class="hljs-attr">margin</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">stroke</span>: <span class="hljs-string">&quot;white&quot;</span>, <span class="hljs-attr">font</span>: <span class="hljs-string">&quot;bold 16px sans-serif&quot;</span> &#125;,<br>                    <span class="hljs-comment">//绑定TextBlock.text 属性为Node.data.name的值，Model对象可以通过Node.data.name获取和设置TextBlock.text</span><br>                    <span class="hljs-keyword">new</span> go.Binding(<span class="hljs-string">&quot;text&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>))<br>            );<br><br>        <span class="hljs-keyword">var</span> myModel = objGo(go.Model);<span class="hljs-comment">//创建Model对象</span><br>        <span class="hljs-comment">// model中的数据每一个js对象都代表着一个相应的模型图中的元素</span><br>        myModel.nodeDataArray = [<br>            &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;工厂&quot;</span>, <span class="hljs-attr">fig</span>: <span class="hljs-string">&#x27;YinYang&#x27;</span>, <span class="hljs-attr">fill2</span>: <span class="hljs-string">&#x27;blue&#x27;</span> &#125;,<br>            &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;车间&quot;</span>, <span class="hljs-attr">fig</span>: <span class="hljs-string">&#x27;Peace&#x27;</span>, <span class="hljs-attr">fill2</span>: <span class="hljs-string">&#x27;red&#x27;</span> &#125;,<br>            &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;工人&quot;</span>, <span class="hljs-attr">fig</span>: <span class="hljs-string">&#x27;NotAllowed&#x27;</span>, <span class="hljs-attr">fill2</span>: <span class="hljs-string">&#x27;green&#x27;</span> &#125;,<br>            &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;岗位&quot;</span>, <span class="hljs-attr">fig</span>: <span class="hljs-string">&#x27;Fragile&#x27;</span>, <span class="hljs-attr">fill2</span>: <span class="hljs-string">&#x27;yellow&#x27;</span> &#125;,<br>        ];<br>        myDiagram.model = myModel; <span class="hljs-comment">//将模型数据绑定到画布图上</span><br></code></pre></td></tr></table></figure>
<p>代码释疑：以上我们给画布对象定义了两种节点模板，一种是文本节点，另一种是形状节点（Node）。在形状节点中，我们定义了数据模型的通用节点样式，就是这一段代码 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123; <span class="hljs-comment">/* Shape的参数。宽高颜色等等*/</span>figure: <span class="hljs-string">&quot;Club&quot;</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">40</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">60</span>, <span class="hljs-attr">margin</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">fill</span>: <span class="hljs-string">&#x27;red&#x27;</span> &#125;,<br></code></pre></td></tr></table></figure>
<p><strong>然后通过 <code>new go.Binding(&quot;figure&quot;, &quot;fig&quot;)</code>方法将模板里面的属性映射到数据实例中，比如这里模板里面的figure属性定义的是Club，如果在我们的数据里面定义fig属性，那么它就会覆盖模板里面的figure的默认值。同样，fill和fill2也是通过同样的原理去区别模板中的样式和实例中的实际样式的！</strong><br>注：更多figure属性的取值详见 <a target="_blank" rel="noopener" href="https://gojs.net/latest/extensions/Figures.js">这里</a><br>效果如下：<br><img src="https://img-blog.csdnimg.cn/20210420175144453.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>由此可见我们数据里面的属性会覆盖模板的原始属性，如果是新增的节点，由于没有自定义数据属性，所以呈现到界面上面的时候就是模板里面的原生样式！</p>
<p>（5）节点连线</p>
<p>有了上面的基础，我们可以在画布上面画出我们想要的图形效果了，可是还没有连线。我们知道连线是建立在节点模型的上面的，于是乎我们的Model又分为了以下三种类型：</p>
<p>Model：最基本的（不带连线，如上面的例子）<br>GraphLinksModel ：高级点的动态连线图<br>TreeModel：树形图的模型（从例子看好像用的不多）<br>GraphLinksModel中为model.nodeDataArray提供model.linkDataArray为node节点连线保存数据模型信息，其实也是的一个JSON数组对象，每个线条都有两个属性 “to” 和 “from” 即Node节点的“key”值，两个属性代表两个key表示两个节点间的连线。</p>
<p>我们上面已经写过最基本的Model的例子了，我们再来个带连线的Model的示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myModel = objGo(go.GraphLinksModel);<br>        myModel.nodeDataArray =<br>            [<br>                &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;aaa&quot;</span> ,<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;工厂&quot;</span> &#125;,<br>                &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;bbb&quot;</span> ,<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;车间&quot;</span>&#125;,<br>                &#123; <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;ccc&quot;</span> ,<span class="hljs-attr">name</span>: <span class="hljs-string">&quot;车间&quot;</span> &#125;<br>            ];<br>        myModel.linkDataArray =<br>            [<br>                &#123; <span class="hljs-attr">from</span>: <span class="hljs-string">&quot;aaa&quot;</span>, <span class="hljs-attr">to</span>: <span class="hljs-string">&quot;bbb&quot;</span> &#125;,<br>                &#123; <span class="hljs-attr">from</span>: <span class="hljs-string">&quot;bbb&quot;</span>, <span class="hljs-attr">to</span>: <span class="hljs-string">&quot;ccc&quot;</span> &#125;<br>            ];<br>        myDiagram.model = myModel;<br></code></pre></td></tr></table></figure>
<p>效果如下：<br><img src="https://img-blog.csdnimg.cn/20210420175221785.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>学习了Model、GraphLinksModel，还剩下一种TreeModel树节点的模型，这个博主不打算做详细介绍，有兴趣可以直接查看官网。</p>
<h1 id="三、综合效果"><a href="#三、综合效果" class="headerlink" title="三、综合效果"></a>三、综合效果</h1><p>关于综合效果，博主不打算将gojs的api逐个翻个遍了，这样太耗时间，伤不起，只是将官方示例中的部分源码截取出来供大家参考。有需要的再细究！</p>
<h2 id="1、自定义流程的使用"><a href="#1、自定义流程的使用" class="headerlink" title="1、自定义流程的使用"></a>1、自定义流程的使用</h2><p>效果如下：<br><img src="https://img-blog.csdnimg.cn/20210420175330889.gif" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"><br>建议各位copy代码，在本地看到效果，然后再根据实际需求去研究它的api，这样才不会太盲目而花费太多时间。</p>
<h2 id="2、工业流程图"><a href="#2、工业流程图" class="headerlink" title="2、工业流程图"></a>2、工业流程图</h2><p><img src="https://img-blog.csdnimg.cn/20210420175534446.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80OTkxODY1Nw==,size_16,color_FFFFFF,t_70" srcset="/img/loading.gif" lazyload alt="在这里插入图片描述"></p>
<h1 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h1><p>本文根据js的一些基础用法做了简单介绍，今天就先到这里，以后有问题了再来跟大家分享。如果你的项目里面也有这种业务需求，可以用起来试试！需要说明一点，如果您的公司不缺钱，建议使用正版授权的组件，毕竟尊重作者的劳动成果很重要！</p>
<p>本文原创出处：<a target="_blank" rel="noopener" href="http://www.cnblogs.com/landeanfen/">http://www.cnblogs.com/landeanfen/</a></p>
<h1 id="五、附三中①②代码"><a href="#五、附三中①②代码" class="headerlink" title="五、附三中①②代码"></a>五、附三中①②代码</h1><p>①</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;<br>&lt;title&gt;Draggable Link&lt;/title&gt;<br>&lt;meta name=&quot;description&quot; content=&quot;Drag a link to reconnect it. Nodes have custom Adornments for selection, resizing, and reshaping.&quot; /&gt;<br>&lt;!-- Copyright 1998-2017 by Northwoods Software Corporation. --&gt;<br>&lt;meta charset=&quot;UTF-8&quot;&gt;<br>&lt;script src=&quot;../../gojs/go-debug.js&quot;&gt;&lt;/script&gt;<br>&lt;script id=&quot;code&quot;&gt;<br>  function init() &#123;<br>    if (window.goSamples) goSamples();  // init for these samples -- you don&#x27;t need to call this<br>    var objGo = go.GraphObject.make;  // for conciseness in defining templates<br><br>    myDiagram =<br>      objGo(go.Diagram, &quot;myDiagramDiv&quot;,  // must name or refer to the DIV HTML element<br>        &#123;<br>          grid: objGo(go.Panel, &quot;Grid&quot;,<br>                  objGo(go.Shape, &quot;LineH&quot;, &#123; stroke: &quot;lightgray&quot;, strokeWidth: 0.5 &#125;),<br>                  objGo(go.Shape, &quot;LineH&quot;, &#123; stroke: &quot;gray&quot;, strokeWidth: 0.5, interval: 10 &#125;),<br>                  objGo(go.Shape, &quot;LineV&quot;, &#123; stroke: &quot;lightgray&quot;, strokeWidth: 0.5 &#125;),<br>                  objGo(go.Shape, &quot;LineV&quot;, &#123; stroke: &quot;gray&quot;, strokeWidth: 0.5, interval: 10 &#125;)<br>                ),<br>          allowDrop: true,  // must be true to accept drops from the Palette<br>          &quot;draggingTool.dragsLink&quot;: true,<br>          &quot;draggingTool.isGridSnapEnabled&quot;: true,<br>          &quot;linkingTool.isUnconnectedLinkValid&quot;: true,<br>          &quot;linkingTool.portGravity&quot;: 20,<br>          &quot;relinkingTool.isUnconnectedLinkValid&quot;: true,<br>          &quot;relinkingTool.portGravity&quot;: 20,<br>          &quot;relinkingTool.fromHandleArchetype&quot;:<br>            objGo(go.Shape, &quot;Diamond&quot;, &#123; segmentIndex: 0, cursor: &quot;pointer&quot;, desiredSize: new go.Size(8, 8), fill: &quot;tomato&quot;, stroke: &quot;darkred&quot; &#125;),<br>          &quot;relinkingTool.toHandleArchetype&quot;:<br>            objGo(go.Shape, &quot;Diamond&quot;, &#123; segmentIndex: -1, cursor: &quot;pointer&quot;, desiredSize: new go.Size(8, 8), fill: &quot;darkred&quot;, stroke: &quot;tomato&quot; &#125;),<br>          &quot;linkReshapingTool.handleArchetype&quot;:<br>            objGo(go.Shape, &quot;Diamond&quot;, &#123; desiredSize: new go.Size(7, 7), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>          rotatingTool: objGo(TopRotatingTool),  // defined below<br>          &quot;rotatingTool.snapAngleMultiple&quot;: 15,<br>          &quot;rotatingTool.snapAngleEpsilon&quot;: 15,<br>          &quot;undoManager.isEnabled&quot;: true<br>        &#125;);<br><br>    // when the document is modified, add a &quot;*&quot; to the title and enable the &quot;Save&quot; button<br>    myDiagram.addDiagramListener(&quot;Modified&quot;, function(e) &#123;<br>      var button = document.getElementById(&quot;SaveButton&quot;);<br>      if (button) button.disabled = !myDiagram.isModified;<br>      var idx = document.title.indexOf(&quot;*&quot;);<br>      if (myDiagram.isModified) &#123;<br>        if (idx &lt; 0) document.title += &quot;*&quot;;<br>      &#125; else &#123;<br>        if (idx &gt;= 0) document.title = document.title.substr(0, idx);<br>      &#125;<br>    &#125;);<br><br>    // Define a function for creating a &quot;port&quot; that is normally transparent.<br>    // The &quot;name&quot; is used as the GraphObject.portId, the &quot;spot&quot; is used to control how links connect<br>    // and where the port is positioned on the node, and the boolean &quot;output&quot; and &quot;input&quot; arguments<br>    // control whether the user can draw links from or to the port.<br>    function makePort(name, spot, output, input) &#123;<br>      // the port is basically just a small transparent square<br>      return objGo(go.Shape, &quot;Circle&quot;,<br>               &#123;<br>                  fill: null,  // not seen, by default; set to a translucent gray by showSmallPorts, defined below<br>                  stroke: null,<br>                  desiredSize: new go.Size(7, 7),<br>                  alignment: spot,  // align the port on the main Shape<br>                  alignmentFocus: spot,  // just inside the Shape<br>                  portId: name,  // declare this object to be a &quot;port&quot;<br>                  fromSpot: spot, toSpot: spot,  // declare where links may connect at this port<br>                  fromLinkable: output, toLinkable: input,  // declare whether the user may draw links to/from here<br>                  cursor: &quot;pointer&quot;  // show a different cursor to indicate potential link point<br>               &#125;);<br>    &#125;<br><br>    var nodeSelectionAdornmentTemplate =<br>      objGo(go.Adornment, &quot;Auto&quot;,<br>        objGo(go.Shape, &#123; fill: null, stroke: &quot;deepskyblue&quot;, strokeWidth: 1.5, strokeDashArray: [4, 2] &#125;),<br>        objGo(go.Placeholder)<br>      );<br><br>    var nodeResizeAdornmentTemplate =<br>      objGo(go.Adornment, &quot;Spot&quot;,<br>        &#123; locationSpot: go.Spot.Right &#125;,<br>        objGo(go.Placeholder),<br>        objGo(go.Shape, &#123; alignment: go.Spot.TopLeft, cursor: &quot;nw-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; alignment: go.Spot.Top, cursor: &quot;n-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; alignment: go.Spot.TopRight, cursor: &quot;ne-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br><br>        objGo(go.Shape, &#123; alignment: go.Spot.Left, cursor: &quot;w-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; alignment: go.Spot.Right, cursor: &quot;e-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br><br>        objGo(go.Shape, &#123; alignment: go.Spot.BottomLeft, cursor: &quot;se-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; alignment: go.Spot.Bottom, cursor: &quot;s-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; alignment: go.Spot.BottomRight, cursor: &quot;sw-resize&quot;, desiredSize: new go.Size(6, 6), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;)<br>      );<br><br>    var nodeRotateAdornmentTemplate =<br>      objGo(go.Adornment,<br>        &#123; locationSpot: go.Spot.Center, locationObjectName: &quot;CIRCLE&quot; &#125;,<br>        objGo(go.Shape, &quot;Circle&quot;, &#123; name: &quot;CIRCLE&quot;, cursor: &quot;pointer&quot;, desiredSize: new go.Size(7, 7), fill: &quot;lightblue&quot;, stroke: &quot;deepskyblue&quot; &#125;),<br>        objGo(go.Shape, &#123; geometryString: &quot;M3.5 7 L3.5 30&quot;, isGeometryPositioned: true, stroke: &quot;deepskyblue&quot;, strokeWidth: 1.5, strokeDashArray: [4, 2] &#125;)<br>      );<br><br>    myDiagram.nodeTemplate =<br>      objGo(go.Node, &quot;Spot&quot;,<br>        &#123; locationSpot: go.Spot.Center &#125;,<br>        new go.Binding(&quot;location&quot;, &quot;loc&quot;, go.Point.parse).makeTwoWay(go.Point.stringify),<br>        &#123; selectable: true, selectionAdornmentTemplate: nodeSelectionAdornmentTemplate &#125;,<br>        &#123; resizable: true, resizeObjectName: &quot;PANEL&quot;, resizeAdornmentTemplate: nodeResizeAdornmentTemplate &#125;,<br>        &#123; rotatable: true, rotateAdornmentTemplate: nodeRotateAdornmentTemplate &#125;,<br>        new go.Binding(&quot;angle&quot;).makeTwoWay(),<br>        // the main object is a Panel that surrounds a TextBlock with a Shape<br>        objGo(go.Panel, &quot;Auto&quot;,<br>          &#123; name: &quot;PANEL&quot; &#125;,<br>          new go.Binding(&quot;desiredSize&quot;, &quot;size&quot;, go.Size.parse).makeTwoWay(go.Size.stringify),<br>          objGo(go.Shape, &quot;Rectangle&quot;,  // default figure<br>            &#123;<br>              portId: &quot;&quot;, // the default port: if no spot on link data, use closest side<br>              fromLinkable: true, toLinkable: true, cursor: &quot;pointer&quot;,<br>              fill: &quot;white&quot;,  // default color<br>              strokeWidth: 2<br>            &#125;,<br>            new go.Binding(&quot;figure&quot;),<br>            new go.Binding(&quot;fill&quot;)),<br>          objGo(go.TextBlock,<br>            &#123;<br>              font: &quot;bold 11pt Helvetica, Arial, sans-serif&quot;,<br>              margin: 8,<br>              maxSize: new go.Size(160, NaN),<br>              wrap: go.TextBlock.WrapFit,<br>              editable: true<br>            &#125;,<br>            new go.Binding(&quot;text&quot;).makeTwoWay())<br>        ),<br>        // four small named ports, one on each side:<br>        makePort(&quot;T&quot;, go.Spot.Top, false, true),<br>        makePort(&quot;L&quot;, go.Spot.Left, true, true),<br>        makePort(&quot;R&quot;, go.Spot.Right, true, true),<br>        makePort(&quot;B&quot;, go.Spot.Bottom, true, false),<br>        &#123; // handle mouse enter/leave events to show/hide the ports<br>          mouseEnter: function(e, node) &#123; showSmallPorts(node, true); &#125;,<br>          mouseLeave: function(e, node) &#123; showSmallPorts(node, false); &#125;<br>        &#125;<br>      );<br><br>    function showSmallPorts(node, show) &#123;<br>      node.ports.each(function(port) &#123;<br>        if (port.portId !== &quot;&quot;) &#123;  // don&#x27;t change the default port, which is the big shape<br>          port.fill = show ? &quot;rgba(0,0,0,.3)&quot; : null;<br>        &#125;<br>      &#125;);<br>    &#125;<br><br>    var linkSelectionAdornmentTemplate =<br>      objGo(go.Adornment, &quot;Link&quot;,<br>        objGo(go.Shape,<br>          // isPanelMain declares that this Shape shares the Link.geometry<br>          &#123; isPanelMain: true, fill: null, stroke: &quot;deepskyblue&quot;, strokeWidth: 0 &#125;)  // use selection object&#x27;s strokeWidth<br>      );<br><br>    myDiagram.linkTemplate =<br>      objGo(go.Link,  // the whole link panel<br>        &#123; selectable: true, selectionAdornmentTemplate: linkSelectionAdornmentTemplate &#125;,<br>        &#123; relinkableFrom: true, relinkableTo: true, reshapable: true &#125;,<br>        &#123;<br>          routing: go.Link.AvoidsNodes,<br>          curve: go.Link.JumpOver,<br>          corner: 5,<br>          toShortLength: 4<br>        &#125;,<br>        new go.Binding(&quot;points&quot;).makeTwoWay(),<br>        objGo(go.Shape,  // the link path shape<br>          &#123; isPanelMain: true, strokeWidth: 2 &#125;),<br>        objGo(go.Shape,  // the arrowhead<br>          &#123; toArrow: &quot;Standard&quot;, stroke: null &#125;),<br>        objGo(go.Panel, &quot;Auto&quot;,<br>          new go.Binding(&quot;visible&quot;, &quot;isSelected&quot;).ofObject(),<br>          objGo(go.Shape, &quot;RoundedRectangle&quot;,  // the link shape<br>            &#123; fill: &quot;#F8F8F8&quot;, stroke: null &#125;),<br>          objGo(go.TextBlock,<br>            &#123;<br>              textAlign: &quot;center&quot;,<br>              font: &quot;10pt helvetica, arial, sans-serif&quot;,<br>              stroke: &quot;#919191&quot;,<br>              margin: 2,<br>              minSize: new go.Size(10, NaN),<br>              editable: true<br>            &#125;,<br>            new go.Binding(&quot;text&quot;).makeTwoWay())<br>        )<br>      );<br><br>    load();  // load an initial diagram from some JSON text<br><br>    // initialize the Palette that is on the left side of the page<br>    myPalette =<br>      objGo(go.Palette, &quot;myPaletteDiv&quot;,  // must name or refer to the DIV HTML element<br>        &#123;<br>          maxSelectionCount: 1,<br>          nodeTemplateMap: myDiagram.nodeTemplateMap,  // share the templates used by myDiagram<br>          linkTemplate: // simplify the link template, just in this Palette<br>            objGo(go.Link,<br>              &#123; // because the GridLayout.alignment is Location and the nodes have locationSpot == Spot.Center,<br>                // to line up the Link in the same manner we have to pretend the Link has the same location spot<br>                locationSpot: go.Spot.Center,<br>                selectionAdornmentTemplate:<br>                  objGo(go.Adornment, &quot;Link&quot;,<br>                    &#123; locationSpot: go.Spot.Center &#125;,<br>                    objGo(go.Shape,<br>                      &#123; isPanelMain: true, fill: null, stroke: &quot;deepskyblue&quot;, strokeWidth: 0 &#125;),<br>                    objGo(go.Shape,  // the arrowhead<br>                      &#123; toArrow: &quot;Standard&quot;, stroke: null &#125;)<br>                  )<br>              &#125;,<br>              &#123;<br>                routing: go.Link.AvoidsNodes,<br>                curve: go.Link.JumpOver,<br>                corner: 5,<br>                toShortLength: 4<br>              &#125;,<br>              new go.Binding(&quot;points&quot;),<br>              objGo(go.Shape,  // the link path shape<br>                &#123; isPanelMain: true, strokeWidth: 2 &#125;),<br>              objGo(go.Shape,  // the arrowhead<br>                &#123; toArrow: &quot;Standard&quot;, stroke: null &#125;)<br>            ),<br>          model: new go.GraphLinksModel([  // specify the contents of the Palette<br>            &#123; text: &quot;Start&quot;, figure: &quot;Circle&quot;, fill: &quot;#00AD5F&quot; &#125;,<br>            &#123; text: &quot;Step&quot; &#125;,<br>            &#123; text: &quot;DB&quot;, figure: &quot;Database&quot;, fill: &quot;lightgray&quot; &#125;,<br>            &#123; text: &quot;???&quot;, figure: &quot;Diamond&quot;, fill: &quot;lightskyblue&quot; &#125;,<br>            &#123; text: &quot;End&quot;, figure: &quot;Circle&quot;, fill: &quot;#CE0620&quot; &#125;,<br>            &#123; text: &quot;Comment&quot;, figure: &quot;RoundedRectangle&quot;, fill: &quot;lightyellow&quot; &#125;<br>          ], [<br>            // the Palette also has a disconnected Link, which the user can drag-and-drop<br>            &#123; points: new go.List(go.Point).addAll([new go.Point(0, 0), new go.Point(30, 0), new go.Point(30, 40), new go.Point(60, 40)]) &#125;<br>          ])<br>        &#125;);<br>  &#125;<br><br><br>  function TopRotatingTool() &#123;<br>    go.RotatingTool.call(this);<br>  &#125;<br>  go.Diagram.inherit(TopRotatingTool, go.RotatingTool);<br><br>  /** @override */<br>  TopRotatingTool.prototype.updateAdornments = function(part) &#123;<br>    go.RotatingTool.prototype.updateAdornments.call(this, part);<br>    var adornment = part.findAdornment(&quot;Rotating&quot;);<br>    if (adornment !== null) &#123;<br>      adornment.location = part.rotateObject.getDocumentPoint(new go.Spot(0.5, 0, 0, -30));  // above middle top<br>    &#125;<br>  &#125;;<br><br>  /** @override */<br>  TopRotatingTool.prototype.rotate = function(newangle) &#123;<br>    go.RotatingTool.prototype.rotate.call(this, newangle + 90);<br>  &#125;;<br>  // end of TopRotatingTool class<br><br><br>  // Show the diagram&#x27;s model in JSON format that the user may edit<br>  function save() &#123;<br>    saveDiagramProperties();  // do this first, before writing to JSON<br>    document.getElementById(&quot;mySavedModel&quot;).value = myDiagram.model.toJson();<br>    myDiagram.isModified = false;<br>  &#125;<br>  function load() &#123;<br>    myDiagram.model = go.Model.fromJson(document.getElementById(&quot;mySavedModel&quot;).value);<br>    loadDiagramProperties();  // do this after the Model.modelData has been brought into memory<br>  &#125;<br><br>  function saveDiagramProperties() &#123;<br>    myDiagram.model.modelData.position = go.Point.stringify(myDiagram.position);<br>  &#125;<br>  function loadDiagramProperties(e) &#123;<br>    // set Diagram.initialPosition, not Diagram.position, to handle initialization side-effects<br>    var pos = myDiagram.model.modelData.position;<br>    if (pos) myDiagram.initialPosition = go.Point.parse(pos);<br>  &#125;<br>&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body onload=&quot;init()&quot;&gt;<br>&lt;div id=&quot;sample&quot;&gt;<br>  &lt;div style=&quot;width:100%; white-space:nowrap;&quot;&gt;<br>    &lt;span style=&quot;display: inline-block; vertical-align: top; width:105px&quot;&gt;<br>      &lt;div id=&quot;myPaletteDiv&quot; style=&quot;border: solid 1px black; height: 620px&quot;&gt;&lt;/div&gt;<br>    &lt;/span&gt;<br><br>    &lt;span style=&quot;display: inline-block; vertical-align: top; width:80%&quot;&gt;<br>      &lt;div id=&quot;myDiagramDiv&quot; style=&quot;border: solid 1px black; height: 620px&quot;&gt;&lt;/div&gt;<br>    &lt;/span&gt;<br>  &lt;/div&gt;<br>  &lt;p&gt;<br>    This sample demonstrates the ability for the user to drag around a Link as if it were a Node.<br>    When either end of the link passes over a valid port, the port is highlighted.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    The link-dragging functionality is enabled by setting some or all of the following properties:<br>    &lt;a&gt;DraggingTool.dragsLink&lt;/a&gt;, &lt;a&gt;LinkingTool.isUnconnectedLinkValid&lt;/a&gt;, and<br>    &lt;a&gt;RelinkingTool.isUnconnectedLinkValid&lt;/a&gt;.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    Note that a Link is present in the &lt;a&gt;Palette&lt;/a&gt; so that it too can be dragged out and onto<br>    the main Diagram.  Because links are not automatically routed when either end is not connected<br>    with a Node, the route is provided explicitly when that Palette item is defined.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    This also demonstrates several custom Adornments:<br>    &lt;a&gt;Part.selectionAdornmentTemplate&lt;/a&gt;, &lt;a&gt;Part.resizeAdornmentTemplate&lt;/a&gt;, and<br>    &lt;a&gt;Part.rotateAdornmentTemplate&lt;/a&gt;.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    Finally this sample demonstrates saving and restoring the &lt;a&gt;Diagram.position&lt;/a&gt; as a property<br>    on the &lt;a&gt;Model.modelData&lt;/a&gt; object that is automatically saved and restored when calling &lt;a&gt;Model.toJson&lt;/a&gt;<br>    and &lt;a&gt;Model.fromJson&lt;/a&gt;.<br>  &lt;/p&gt;<br>  &lt;div&gt;<br>    &lt;div&gt;<br>      &lt;button id=&quot;SaveButton&quot; onclick=&quot;save()&quot;&gt;Save&lt;/button&gt;<br>      &lt;button onclick=&quot;load()&quot;&gt;Load&lt;/button&gt;<br>      Diagram Model saved in JSON format:<br>    &lt;/div&gt;<br>    &lt;textarea id=&quot;mySavedModel&quot; style=&quot;width:100%;height:300px&quot;&gt;<br>&#123; &quot;class&quot;: &quot;go.GraphLinksModel&quot;,<br>  &quot;linkFromPortIdProperty&quot;: &quot;fromPort&quot;,<br>  &quot;linkToPortIdProperty&quot;: &quot;toPort&quot;,<br>  &quot;nodeDataArray&quot;: [<br> ],<br>  &quot;linkDataArray&quot;: [<br> ]&#125;<br>    &lt;/textarea&gt;<br>  &lt;/div&gt;<br>&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>
<p>②</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;<br>&lt;title&gt;Process Flow&lt;/title&gt;<br>&lt;meta name=&quot;description&quot; content=&quot;A simple process flow or SCADA diagram editor, simulating equipment monitoring and control.&quot; /&gt;<br>&lt;!-- Copyright 1998-2017 by Northwoods Software Corporation. --&gt;<br>&lt;meta charset=&quot;UTF-8&quot;&gt;<br>&lt;script src=&quot;../../gojs/go-debug.js&quot;&gt;&lt;/script&gt;<br>&lt;script id=&quot;code&quot;&gt;<br>  function init() &#123;<br>    if (window.goSamples) goSamples();  // init for these samples -- you don&#x27;t need to call this<br>    var $ = go.GraphObject.make;  // for more concise visual tree definitions<br><br>    myDiagram =<br>      $(go.Diagram, &quot;myDiagramDiv&quot;,<br>        &#123;<br>          &quot;grid.visible&quot;: true,<br>          &quot;grid.gridCellSize&quot;: new go.Size(30, 20),<br>          &quot;draggingTool.isGridSnapEnabled&quot;: true,<br>          &quot;resizingTool.isGridSnapEnabled&quot;: true,<br>          &quot;rotatingTool.snapAngleMultiple&quot;: 90,<br>          &quot;rotatingTool.snapAngleEpsilon&quot;: 45,<br>          &quot;undoManager.isEnabled&quot;: true<br>        &#125;);<br><br>    // when the document is modified, add a &quot;*&quot; to the title and enable the &quot;Save&quot; button<br>    myDiagram.addDiagramListener(&quot;Modified&quot;, function(e) &#123;<br>      var button = document.getElementById(&quot;SaveButton&quot;);<br>      if (button) button.disabled = !myDiagram.isModified;<br>      var idx = document.title.indexOf(&quot;*&quot;);<br>      if (myDiagram.isModified) &#123;<br>        if (idx &lt; 0) document.title += &quot;*&quot;;<br>      &#125; else &#123;<br>        if (idx &gt;= 0) document.title = document.title.substr(0, idx);<br>      &#125;<br>    &#125;);<br><br>    myDiagram.nodeTemplateMap.add(&quot;Process&quot;,<br>      $(go.Node, &quot;Auto&quot;,<br>        &#123; locationSpot: new go.Spot(0.5, 0.5), locationObjectName: &quot;SHAPE&quot;,<br>          resizable: true, resizeObjectName: &quot;SHAPE&quot; &#125;,<br>        new go.Binding(&quot;location&quot;, &quot;pos&quot;, go.Point.parse).makeTwoWay(go.Point.stringify),<br>        $(go.Shape, &quot;Cylinder1&quot;,<br>          &#123; name: &quot;SHAPE&quot;,<br>            strokeWidth: 2,<br>            fill: $(go.Brush, &quot;Linear&quot;,<br>                    &#123; start: go.Spot.Left, end: go.Spot.Right,<br>                      0: &quot;gray&quot;, 0.5: &quot;white&quot;, 1: &quot;gray&quot; &#125;),<br>            minSize: new go.Size(50, 50),<br>            portId: &quot;&quot;, fromSpot: go.Spot.AllSides, toSpot: go.Spot.AllSides<br>          &#125;,<br>          new go.Binding(&quot;desiredSize&quot;, &quot;size&quot;, go.Size.parse).makeTwoWay(go.Size.stringify)),<br>        $(go.TextBlock,<br>          &#123; alignment: go.Spot.Center, textAlign: &quot;center&quot;, margin: 5,<br>            editable: true &#125;,<br>          new go.Binding(&quot;text&quot;).makeTwoWay())<br>      ));<br><br>    myDiagram.nodeTemplateMap.add(&quot;Valve&quot;,<br>      $(go.Node, &quot;Vertical&quot;,<br>        &#123; locationSpot: new go.Spot(0.5, 1, 0, -21), locationObjectName: &quot;SHAPE&quot;,<br>          selectionObjectName: &quot;SHAPE&quot;, rotatable: true &#125;,<br>        new go.Binding(&quot;angle&quot;).makeTwoWay(),<br>        new go.Binding(&quot;location&quot;, &quot;pos&quot;, go.Point.parse).makeTwoWay(go.Point.stringify),<br>        $(go.TextBlock,<br>          &#123; alignment: go.Spot.Center, textAlign: &quot;center&quot;, margin: 5, editable: true &#125;,<br>          new go.Binding(&quot;text&quot;).makeTwoWay(),<br>          // keep the text upright, even when the whole node has been rotated upside down<br>          new go.Binding(&quot;angle&quot;, &quot;angle&quot;, function(a) &#123; return a === 180 ? 180 : 0; &#125;).ofObject()),<br>        $(go.Shape,<br>          &#123; name: &quot;SHAPE&quot;,<br>            geometryString: &quot;F1 M0 0 L40 20 40 0 0 20z M20 10 L20 30 M12 30 L28 30&quot;,<br>            strokeWidth: 2,<br>            fill: $(go.Brush, &quot;Linear&quot;, &#123; 0: &quot;gray&quot;, 0.35: &quot;white&quot;, 0.7: &quot;gray&quot; &#125;),<br>            portId: &quot;&quot;, fromSpot: new go.Spot(1, 0.35), toSpot: new go.Spot(0, 0.35) &#125;)<br>      ));<br><br>    myDiagram.linkTemplate =<br>      $(go.Link,<br>        &#123; routing: go.Link.AvoidsNodes, curve: go.Link.JumpGap, corner: 10, reshapable: true, toShortLength: 7 &#125;,<br>        new go.Binding(&quot;points&quot;).makeTwoWay(),<br>        // mark each Shape to get the link geometry with isPanelMain: true<br>        $(go.Shape, &#123; isPanelMain: true, stroke: &quot;black&quot;, strokeWidth: 5 &#125;),<br>        $(go.Shape, &#123; isPanelMain: true, stroke: &quot;gray&quot;, strokeWidth: 3 &#125;),<br>        $(go.Shape, &#123; isPanelMain: true, stroke: &quot;white&quot;, strokeWidth: 1, name: &quot;PIPE&quot;, strokeDashArray: [10, 10] &#125;),<br>        $(go.Shape, &#123; toArrow: &quot;Triangle&quot;, fill: &quot;black&quot;, stroke: null &#125;)<br>      );<br><br>    load();<br><br>    loop();  // animate some flow through the pipes<br>  &#125;<br><br>  function loop() &#123;<br>    var diagram = myDiagram;<br>    setTimeout(function() &#123;<br>      var oldskips = diagram.skipsUndoManager;<br>      diagram.skipsUndoManager = true;<br>      diagram.links.each(function(link) &#123;<br>          var shape = link.findObject(&quot;PIPE&quot;);<br>          var off = shape.strokeDashOffset - 2;<br>          shape.strokeDashOffset = (off &lt;= 0) ? 20 : off;<br>        &#125;);<br>      diagram.skipsUndoManager = oldskips;<br>      loop();<br>    &#125;, 100);<br>  &#125;<br><br>  function save() &#123;<br>    document.getElementById(&quot;mySavedModel&quot;).value = myDiagram.model.toJson();<br>    myDiagram.isModified = false;<br>  &#125;<br>  function load() &#123;<br>    myDiagram.model = go.Model.fromJson(document.getElementById(&quot;mySavedModel&quot;).value);<br>  &#125;<br>&lt;/script&gt;<br><br>&lt;/head&gt;<br>&lt;body onload=&quot;init()&quot;&gt;<br>&lt;div id=&quot;sample&quot;&gt;<br>  &lt;div id=&quot;myDiagramDiv&quot; style=&quot;border: solid 1px black; width:100%; height:500px&quot;&gt;&lt;/div&gt;<br>  &lt;p&gt;<br>    A &lt;em&gt;process flow diagram&lt;/em&gt; is commonly used in chemical and process engineering to indicate the general flow of plant processes and equipment.<br>    A simple SCADA diagram, with animation of the flow along the pipes, is implemented here.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    The diagram displays the background grid layer by setting &lt;b&gt;grid.visible&lt;/b&gt; to true,<br>    and also allows snapping to the grid using &lt;a&gt;DraggingTool.isGridSnapEnabled&lt;/a&gt;,<br>    &lt;a&gt;ResizingTool.isGridSnapEnabled&lt;/a&gt;, and &lt;a&gt;RotatingTool.snapAngleMultiple&lt;/a&gt; alongside &lt;a&gt;RotatingTool.snapAngleEpsilon&lt;/a&gt;.<br>  &lt;/p&gt;<br>  &lt;p&gt;<br>    The diagram also uses the &lt;b&gt;loop&lt;/b&gt; function to animate the links by adjusting the &lt;a&gt;Shape.strokeDashOffset&lt;/a&gt; every 100 ms.<br>  &lt;/p&gt;<br>  &lt;div&gt;<br>    &lt;div&gt;<br>      &lt;button id=&quot;SaveButton&quot; onclick=&quot;save()&quot;&gt;Save&lt;/button&gt;<br>      &lt;button onclick=&quot;load()&quot;&gt;Load&lt;/button&gt;<br>      Diagram Model saved in JSON format:<br>    &lt;/div&gt;<br>    &lt;textarea id=&quot;mySavedModel&quot; style=&quot;width:100%;height:300px&quot;&gt;<br>&#123; &quot;class&quot;: &quot;go.GraphLinksModel&quot;,<br>  &quot;nodeDataArray&quot;: [<br>&#123;&quot;key&quot;:&quot;P1&quot;, &quot;category&quot;:&quot;Process&quot;, &quot;pos&quot;:&quot;150 120&quot;, &quot;text&quot;:&quot;Process&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;P2&quot;, &quot;category&quot;:&quot;Process&quot;, &quot;pos&quot;:&quot;330 320&quot;, &quot;text&quot;:&quot;Tank&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;V1&quot;, &quot;category&quot;:&quot;Valve&quot;, &quot;pos&quot;:&quot;270 120&quot;, &quot;text&quot;:&quot;V1&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;P3&quot;, &quot;category&quot;:&quot;Process&quot;, &quot;pos&quot;:&quot;150 420&quot;, &quot;text&quot;:&quot;Pump&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;V2&quot;, &quot;category&quot;:&quot;Valve&quot;, &quot;pos&quot;:&quot;150 280&quot;, &quot;text&quot;:&quot;VM&quot;, &quot;angle&quot;:270&#125;,<br>&#123;&quot;key&quot;:&quot;V3&quot;, &quot;category&quot;:&quot;Valve&quot;, &quot;pos&quot;:&quot;270 420&quot;, &quot;text&quot;:&quot;V2&quot;, &quot;angle&quot;:180&#125;,<br>&#123;&quot;key&quot;:&quot;P4&quot;, &quot;category&quot;:&quot;Process&quot;, &quot;pos&quot;:&quot;450 140&quot;, &quot;text&quot;:&quot;Reserve Tank&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;V4&quot;, &quot;category&quot;:&quot;Valve&quot;, &quot;pos&quot;:&quot;390 60&quot;, &quot;text&quot;:&quot;VA&quot;&#125;,<br>&#123;&quot;key&quot;:&quot;V5&quot;, &quot;category&quot;:&quot;Valve&quot;, &quot;pos&quot;:&quot;450 260&quot;, &quot;text&quot;:&quot;VB&quot;, &quot;angle&quot;:90&#125;<br> ],<br>  &quot;linkDataArray&quot;: [<br>&#123;&quot;from&quot;:&quot;P1&quot;, &quot;to&quot;:&quot;V1&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;P3&quot;, &quot;to&quot;:&quot;V2&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V2&quot;, &quot;to&quot;:&quot;P1&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;P2&quot;, &quot;to&quot;:&quot;V3&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V3&quot;, &quot;to&quot;:&quot;P3&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V1&quot;, &quot;to&quot;:&quot;V4&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V4&quot;, &quot;to&quot;:&quot;P4&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V1&quot;, &quot;to&quot;:&quot;P2&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;P4&quot;, &quot;to&quot;:&quot;V5&quot;&#125;,<br>&#123;&quot;from&quot;:&quot;V5&quot;, &quot;to&quot;:&quot;P2&quot;&#125;<br> ]&#125;<br>    &lt;/textarea&gt;<br>  &lt;/div&gt;<br>&lt;/div&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Vue/">#Vue</a>
      
        <a href="/tags/Web/">#Web</a>
      
        <a href="/tags/JavaScript/">#JavaScript</a>
      
        <a href="/tags/Gojs/">#Gojs</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Gojs组件------前端图形化插件之利器</div>
      <div>https://rainuxs.github.io/rainuxs.github.io/Gojs组件------前端图形化插件之利器/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Rainux</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年8月12日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Vue%203%20%E6%8A%93%E4%BD%8F%E6%96%B0%E7%89%B9%E6%80%A7%C2%B7%C2%B7%C2%B7%E9%81%87%E8%A7%81%E6%96%B0%E5%89%8D%E7%AB%AF/" title="Vue 3 抓住新特性···遇见新前端">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Vue 3 抓住新特性···遇见新前端</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/%E5%8E%9F%E7%94%9FJavaScript%E5%B0%81%E8%A3%85%E5%8E%BB%E9%99%A4%E6%95%B0%E7%BB%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0%E7%9A%84%E5%8E%BB%E9%87%8D%E5%87%BD%E6%95%B0/" title="原生JavaScript封装去除数组重复元素的去重函数">
                        <span class="hidden-mobile">原生JavaScript封装去除数组重复元素的去重函数</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.17/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"fW3q5WG7pFToTqTLLKdzr574-gzGzoHsz","appKey":"gqGmBLPen7vYa524PBFUqDEq","pageSize":10,"avatar":"monsterid","lang":"zh-CN","placeholder":"Please leave your footprints","guest_info":"nick,mail","recordIP":true,"serverURLs":null,"bg":null,"emojiCDN":null,"enableQQ":false,"requiredFields":"nick,mail","visitor":true,"option":null},
          {
            el: "#valine",
            path: 
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       Hi, welcome to <a href="https://rainuxs.github.io/" style="text-decoration:none">Rainux blog</a> ! <div><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41019702002937" target="_blank" style="text-decoration:none"><img class="icp-icon" src="/img/beian.png" srcset="/img/loading.gif" lazyload><span>豫公网安备 41019702002937号</span></a></div> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
